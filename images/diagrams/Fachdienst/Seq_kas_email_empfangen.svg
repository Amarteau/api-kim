<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="870px" preserveAspectRatio="none" style="width:2007px;height:870px;background:#FFFFFF;" version="1.1" viewBox="0 0 2007 870" width="2007px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5F5" height="851.4063" style="stroke:#181818;stroke-width:0.5;" width="262" x="241" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="140" x="302" y="22.708">Primärsystem</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="302" y="39.02"> </text><rect fill="#F5F5F5" height="851.4063" style="stroke:#181818;stroke-width:0.5;" width="262" x="545" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="121" x="615.5" y="22.708">Clientmodul</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="615.5" y="39.02"> </text><rect fill="#F5F5F5" height="851.4063" style="stroke:#181818;stroke-width:0.5;" width="828" x="1173" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="112" x="1531" y="22.708">Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1531" y="39.02"> </text><rect fill="#DCDCDC" height="721.3359" style="stroke:#000000;stroke-width:1.0;" width="10" x="367" y="124.0703"/><rect fill="#DCDCDC" height="696.5469" style="stroke:#000000;stroke-width:1.0;" width="10" x="671" y="157.8594"/><rect fill="#DCDCDC" height="127.3672" style="stroke:#000000;stroke-width:1.0;" width="10" x="1563" y="443.5156"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1865" y="191.6484"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="117" x2="117" y1="88.2813" y2="863.4063"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="372" x2="372" y1="88.2813" y2="863.4063"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="676" x2="676" y1="88.2813" y2="863.4063"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1304" x2="1304" y1="88.2813" y2="863.4063"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1568" x2="1568" y1="88.2813" y2="863.4063"/><line style="stroke:#000000;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1870" x2="1870" y1="88.2813" y2="863.4063"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="189" x="20" y="83.5645">Leistungserbringer</text><ellipse cx="117.5" cy="13.5" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M117.5,21.5 L117.5,48.5 M104.5,29.5 L130.5,29.5 M117.5,48.5 L104.5,63.5 M117.5,48.5 L130.5,63.5 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="265" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="182" x="281" y="75.5645">PVS/KIS/Mailclient</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="569" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="107" x="622.5" y="75.5645">KIM-Dienst</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1197" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="176" x="1216" y="75.5645">Account-Manager</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1461" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="40" x="1548" y="75.5645">KAS</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1763" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="102" x="1819" y="75.5645">Mailserver</text><rect fill="#DCDCDC" height="721.3359" style="stroke:#000000;stroke-width:1.0;" width="10" x="367" y="124.0703"/><rect fill="#DCDCDC" height="696.5469" style="stroke:#000000;stroke-width:1.0;" width="10" x="671" y="157.8594"/><rect fill="#DCDCDC" height="127.3672" style="stroke:#000000;stroke-width:1.0;" width="10" x="1563" y="443.5156"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1865" y="191.6484"/><polygon fill="#000000" points="355,120.0703,365,124.0703,355,128.0703,359,124.0703" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="117.5" x2="361" y1="124.0703" y2="124.0703"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="105" x="124.5" y="118.061">Mail abrufen</text><polygon fill="#000000" points="659,153.8594,669,157.8594,659,161.8594,663,157.8594" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="377" x2="665" y1="157.8594" y2="157.8594"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="105" x="384" y="151.8501">Mail abrufen</text><polygon fill="#000000" points="1853,187.6484,1863,191.6484,1853,195.6484,1857,191.6484" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="681" x2="1859" y1="191.6484" y2="191.6484"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="136" x="688" y="185.6392">receive Message</text><polygon fill="#000000" points="692,221.4375,682,225.4375,692,229.4375,688,225.4375" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="686" x2="1869" y1="225.4375" y2="225.4375"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="107" x="1756" y="219.4282">KOM-LE-Mail</text><line style="stroke:#000000;stroke-width:1.0;" x1="681" x2="723" y1="279.0156" y2="279.0156"/><line style="stroke:#000000;stroke-width:1.0;" x1="723" x2="723" y1="279.0156" y2="292.0156"/><line style="stroke:#000000;stroke-width:1.0;" x1="682" x2="723" y1="292.0156" y2="292.0156"/><polygon fill="#000000" points="692,288.0156,682,292.0156,692,296.0156,688,292.0156" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="207" x="688" y="253.2173">E-Mail entschlüsseln und</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="132" x="693" y="273.0063">Signatur prüfen</text><line style="stroke:#000000;stroke-width:1.0;" x1="681" x2="723" y1="325.8047" y2="325.8047"/><line style="stroke:#000000;stroke-width:1.0;" x1="723" x2="723" y1="325.8047" y2="338.8047"/><line style="stroke:#000000;stroke-width:1.0;" x1="682" x2="723" y1="338.8047" y2="338.8047"/><polygon fill="#000000" points="692,334.8047,682,338.8047,692,342.8047,688,338.8047" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="193" x="688" y="319.7954">Prüfen der KIM-Version</text><line style="stroke:#000000;stroke-width:1.0;" x1="681" x2="723" y1="396.7266" y2="396.7266"/><line style="stroke:#000000;stroke-width:1.0;" x1="723" x2="723" y1="396.7266" y2="409.7266"/><line style="stroke:#000000;stroke-width:1.0;" x1="682" x2="723" y1="409.7266" y2="409.7266"/><polygon fill="#000000" points="692,405.7266,682,409.7266,692,413.7266,688,409.7266" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="604" x="688" y="390.7173">KAS-Informationen aus der \KIM-Attachment-Datenstruktur extrahieren</text><polygon fill="#000000" points="1551,439.5156,1561,443.5156,1551,447.5156,1555,443.5156" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="681" x2="1557" y1="443.5156" y2="443.5156"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="146" x="688" y="437.5063">readAttachement</text><line style="stroke:#000000;stroke-width:1.0;" x1="1573" x2="1615" y1="477.3047" y2="477.3047"/><line style="stroke:#000000;stroke-width:1.0;" x1="1615" x2="1615" y1="477.3047" y2="490.3047"/><line style="stroke:#000000;stroke-width:1.0;" x1="1574" x2="1615" y1="490.3047" y2="490.3047"/><polygon fill="#000000" points="1584,486.3047,1574,490.3047,1584,494.3047,1580,490.3047" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="172" x="1580" y="471.2954">Berechtigung prüfen</text><line style="stroke:#000000;stroke-width:1.0;" x1="1573" x2="1615" y1="524.0938" y2="524.0938"/><line style="stroke:#000000;stroke-width:1.0;" x1="1615" x2="1615" y1="524.0938" y2="537.0938"/><line style="stroke:#000000;stroke-width:1.0;" x1="1574" x2="1615" y1="537.0938" y2="537.0938"/><polygon fill="#000000" points="1584,533.0938,1574,537.0938,1584,541.0938,1580,537.0938" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="278" x="1580" y="518.0845">verschlüsselte Client-Mail suchen</text><polygon fill="#000000" points="692,566.8828,682,570.8828,692,574.8828,688,570.8828" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="686" x2="1567" y1="570.8828" y2="570.8828"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="214" x="1347" y="564.8735">verschlüsselte Client-Mail</text><line style="stroke:#000000;stroke-width:1.0;" x1="681" x2="723" y1="624.4609" y2="624.4609"/><line style="stroke:#000000;stroke-width:1.0;" x1="723" x2="723" y1="624.4609" y2="637.4609"/><line style="stroke:#000000;stroke-width:1.0;" x1="682" x2="723" y1="637.4609" y2="637.4609"/><polygon fill="#000000" points="692,633.4609,682,637.4609,692,641.4609,688,637.4609" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="301" x="688" y="598.6626">Client-Mail mit dem symmetrischen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="203" x="693" y="618.4517">Schlüssels entschlüsseln</text><line style="stroke:#000000;stroke-width:1.0;" x1="681" x2="723" y1="671.25" y2="671.25"/><line style="stroke:#000000;stroke-width:1.0;" x1="723" x2="723" y1="671.25" y2="684.25"/><line style="stroke:#000000;stroke-width:1.0;" x1="682" x2="723" y1="684.25" y2="684.25"/><polygon fill="#000000" points="692,680.25,682,684.25,692,688.25,688,684.25" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="201" x="688" y="665.2407">Bildung des Hashwertes</text><line style="stroke:#000000;stroke-width:1.0;" x1="681" x2="723" y1="718.0391" y2="718.0391"/><line style="stroke:#000000;stroke-width:1.0;" x1="723" x2="723" y1="718.0391" y2="731.0391"/><line style="stroke:#000000;stroke-width:1.0;" x1="682" x2="723" y1="731.0391" y2="731.0391"/><polygon fill="#000000" points="692,727.0391,682,731.0391,692,735.0391,688,731.0391" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="205" x="688" y="712.0298">Vergleich der Hashwerte</text><line style="stroke:#000000;stroke-width:1.0;" x1="681" x2="723" y1="764.8281" y2="764.8281"/><line style="stroke:#000000;stroke-width:1.0;" x1="723" x2="723" y1="764.8281" y2="777.8281"/><line style="stroke:#000000;stroke-width:1.0;" x1="682" x2="723" y1="777.8281" y2="777.8281"/><polygon fill="#000000" points="692,773.8281,682,777.8281,692,781.8281,688,777.8281" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="193" x="688" y="758.8188">Client-Mail aufbereiten</text><polygon fill="#000000" points="388,807.6172,378,811.6172,388,815.6172,384,811.6172" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="382" x2="670" y1="811.6172" y2="811.6172"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="91" x="573" y="805.6079">Client-Mail</text><polygon fill="#000000" points="128.5,841.4063,118.5,845.4063,128.5,849.4063,124.5,845.4063" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="122.5" x2="371" y1="845.4063" y2="845.4063"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="91" x="274" y="839.397">Client-Mail</text><!--MD5=[d142200ed76447e769657431d78eec4c]
@startuml
skinparam sequenceMessageAlign direction
skinparam minClassWidth 200
skinparam BoxPadding 20
skinparam sequenceReferenceHeaderBackgroundColor palegreen
scale max 2048 width
hide footbox

skinparam sequence {
ArrowColor black
ArrowFontSize 17
ActorBorderColor black
LifeLineBorderColor black
LifeLineBackgroundColor Gainsboro

ParticipantBorderColor Motivation
ParticipantBackgroundColor Motivation
ParticipantFontSize 20
ParticipantFontColor black
ParticipantBorderColor Black
ParticipantBackgroundColor MOTIVATION
ParticipantPadding 20

ActorBackgroundColor Gainsboro
ActorFontColor black
ActorFontSize 20
ActorFontName Aapex
}
      actor L as "Leistungserbringer"
      box <size:18>Primärsystem\n #WhiteSmoke
            participant P as "PVS/KIS/Mailclient"
      end box
      box <size:18>Clientmodul\n #WhiteSmoke
      participant KM as "KIM-Dienst"
      end box
      box <size:18>Fachdienst\n #WhiteSmoke
      participant AM as "Account-Manager"
      participant K as "KAS"
      participant MS as "Mailserver"
      end box

L->P: Mail abrufen
 activate P
 P->KM: Mail abrufen
 activate KM
 KM->MS++: receive Message
 MS- ->KM- -: KOM-LE-Mail
 KM->KM: E-Mail entschlüsseln und\n Signatur prüfen
 KM->KM: Prüfen der KIM-Version
 opt KIM-Attachment-Datenstruktur vorhanden
 KM->KM: KAS-Informationen aus der \KIM-Attachment-Datenstruktur extrahieren
 KM->K: readAttachement
 activate K
 K->K: Berechtigung prüfen
 K->K: verschlüsselte Client-Mail suchen
 K- ->KM: verschlüsselte Client-Mail
 deactivate K
  KM->KM: Client-Mail mit dem symmetrischen\n Schlüssels entschlüsseln
  KM->KM: Bildung des Hashwertes
  KM->KM: Vergleich der Hashwerte
  KM->KM: Client-Mail aufbereiten
  KM- ->P: Client-Mail
  deactivate K
  P- ->L: Client-Mail
  deactivate P
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>