<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1117px" preserveAspectRatio="none" style="width:1642px;height:1117px;background:#FFFFFF;" version="1.1" viewBox="0 0 1642 1117" width="1642px" zoomAndPan="magnify"><defs/><g><rect fill="#F5F5F5" height="1098.7188" style="stroke:#181818;stroke-width:0.5;" width="262" x="226" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="140" x="287" y="22.708">Primärsystem</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="287" y="39.02"> </text><rect fill="#F5F5F5" height="1098.7188" style="stroke:#181818;stroke-width:0.5;" width="262" x="530" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="121" x="600.5" y="22.708">Clientmodul</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="600.5" y="39.02"> </text><rect fill="#F5F5F5" height="1098.7188" style="stroke:#181818;stroke-width:0.5;" width="790" x="846" y="6"/><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="112" x="1185" y="22.708">Fachdienst</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="5" x="1185" y="39.02"> </text><rect fill="#DCDCDC" height="948.8594" style="stroke:#000000;stroke-width:1.0;" width="10" x="352" y="143.8594"/><rect fill="#DCDCDC" height="881.2813" style="stroke:#000000;stroke-width:1.0;" width="10" x="656" y="177.6484"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="972" y="348.9375"/><rect fill="#DCDCDC" height="220.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1236" y="596.4609"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1500" y="991.3516"/><rect height="585.9688" style="stroke:#000000;stroke-width:1.5;fill:none;" width="926" x="524" y="306.0156"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="102" x2="102" y1="88.2813" y2="1110.7188"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="357" x2="357" y1="88.2813" y2="1110.7188"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="661" x2="661" y1="88.2813" y2="1110.7188"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="977" x2="977" y1="88.2813" y2="1110.7188"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1241" x2="1241" y1="88.2813" y2="1110.7188"/><line style="stroke:#000000;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1505" x2="1505" y1="88.2813" y2="1110.7188"/><text fill="#000000" font-family="Aapex" font-size="20" lengthAdjust="spacing" textLength="189" x="5" y="83.5645">Leistungserbringer</text><ellipse cx="102.5" cy="13.5" fill="#DCDCDC" rx="8" ry="8" style="stroke:#000000;stroke-width:0.5;"/><path d="M102.5,21.5 L102.5,48.5 M89.5,29.5 L115.5,29.5 M102.5,48.5 L89.5,63.5 M102.5,48.5 L115.5,63.5 " fill="none" style="stroke:#000000;stroke-width:0.5;"/><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="250" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="182" x="266" y="75.5645">PVS/KIS/Mailclient</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="554" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="107" x="607.5" y="75.5645">KIM-Dienst</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="870" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="176" x="889" y="75.5645">Account-Manager</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1134" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="40" x="1221" y="75.5645">KAS</text><rect fill="#EFEFFF" height="37.2813" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="214" x="1398" y="50"/><text fill="#000000" font-family="sans-serif" font-size="20" lengthAdjust="spacing" textLength="102" x="1454" y="75.5645">Mailserver</text><rect fill="#DCDCDC" height="948.8594" style="stroke:#000000;stroke-width:1.0;" width="10" x="352" y="143.8594"/><rect fill="#DCDCDC" height="881.2813" style="stroke:#000000;stroke-width:1.0;" width="10" x="656" y="177.6484"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="972" y="348.9375"/><rect fill="#DCDCDC" height="220.9453" style="stroke:#000000;stroke-width:1.0;" width="10" x="1236" y="596.4609"/><rect fill="#DCDCDC" height="33.7891" style="stroke:#000000;stroke-width:1.0;" width="10" x="1500" y="991.3516"/><polygon fill="#000000" points="340,139.8594,350,143.8594,340,147.8594,344,143.8594" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="102.5" x2="346" y1="143.8594" y2="143.8594"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="146" x="109.5" y="118.061">Email mit großen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="167" x="114.5" y="137.8501">Anhängen erzeugen</text><polygon fill="#000000" points="644,173.6484,654,177.6484,644,181.6484,648,177.6484" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="362" x2="650" y1="177.6484" y2="177.6484"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="159" x="369" y="171.6392">E-Mail weiterleiten</text><line style="stroke:#000000;stroke-width:1.0;" x1="666" x2="708" y1="211.4375" y2="211.4375"/><line style="stroke:#000000;stroke-width:1.0;" x1="708" x2="708" y1="211.4375" y2="224.4375"/><line style="stroke:#000000;stroke-width:1.0;" x1="667" x2="708" y1="224.4375" y2="224.4375"/><polygon fill="#000000" points="677,220.4375,667,224.4375,677,228.4375,673,224.4375" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="192" x="673" y="205.4282">Prüfen der E-Mailgröße</text><line style="stroke:#000000;stroke-width:1.0;" x1="666" x2="708" y1="278.0156" y2="278.0156"/><line style="stroke:#000000;stroke-width:1.0;" x1="708" x2="708" y1="278.0156" y2="291.0156"/><line style="stroke:#000000;stroke-width:1.0;" x1="667" x2="708" y1="291.0156" y2="291.0156"/><polygon fill="#000000" points="677,287.0156,667,291.0156,677,295.0156,673,291.0156" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="193" x="673" y="252.2173">Prüfen der KIM-Version</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="133" x="678" y="272.0063">des Empfängers</text><path d="M524,306.0156 L594,306.0156 L594,313.1484 L584,323.1484 L524,323.1484 L524,306.0156 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="585.9688" style="stroke:#000000;stroke-width:1.5;" width="926" x="524" y="306.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="539" y="319.0825">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="133" x="609" y="318.2261">[Mailgröße&gt;=15 MB]</text><polygon fill="#000000" points="960,344.9375,970,348.9375,960,352.9375,964,348.9375" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="666" x2="966" y1="348.9375" y2="348.9375"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="78" x="673" y="342.9282">getLimits</text><polygon fill="#000000" points="677,378.7266,667,382.7266,677,386.7266,673,382.7266" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="671" x2="976" y1="382.7266" y2="382.7266"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="51" x="919" y="376.7173">Limits</text><line style="stroke:#000000;stroke-width:1.0;" x1="666" x2="708" y1="436.3047" y2="436.3047"/><line style="stroke:#000000;stroke-width:1.0;" x1="708" x2="708" y1="436.3047" y2="449.3047"/><line style="stroke:#000000;stroke-width:1.0;" x1="667" x2="708" y1="449.3047" y2="449.3047"/><polygon fill="#000000" points="677,445.3047,667,449.3047,677,453.3047,673,449.3047" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="272" x="673" y="410.5063">Erzeugung eines symmetrischen</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="184" x="678" y="430.2954">Schlüssels für die Mail</text><line style="stroke:#000000;stroke-width:1.0;" x1="666" x2="708" y1="483.0938" y2="483.0938"/><line style="stroke:#000000;stroke-width:1.0;" x1="708" x2="708" y1="483.0938" y2="496.0938"/><line style="stroke:#000000;stroke-width:1.0;" x1="667" x2="708" y1="496.0938" y2="496.0938"/><polygon fill="#000000" points="677,492.0938,667,496.0938,677,500.0938,673,496.0938" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="201" x="673" y="477.0845">Bildung des Hashwertes</text><line style="stroke:#000000;stroke-width:1.0;" x1="666" x2="708" y1="549.6719" y2="549.6719"/><line style="stroke:#000000;stroke-width:1.0;" x1="708" x2="708" y1="549.6719" y2="562.6719"/><line style="stroke:#000000;stroke-width:1.0;" x1="667" x2="708" y1="562.6719" y2="562.6719"/><polygon fill="#000000" points="677,558.6719,667,562.6719,677,566.6719,673,562.6719" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="206" x="673" y="523.8735">Verschlüsselung der Mail</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="287" x="673" y="543.6626">mit dem symmetrischen Schlüssel</text><polygon fill="#000000" points="1224,592.4609,1234,596.4609,1224,600.4609,1228,596.4609" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="666" x2="1230" y1="596.4609" y2="596.4609"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="129" x="673" y="590.4517">addAttachment</text><line style="stroke:#000000;stroke-width:1.0;" x1="1246" x2="1288" y1="630.25" y2="630.25"/><line style="stroke:#000000;stroke-width:1.0;" x1="1288" x2="1288" y1="630.25" y2="643.25"/><line style="stroke:#000000;stroke-width:1.0;" x1="1247" x2="1288" y1="643.25" y2="643.25"/><polygon fill="#000000" points="1257,639.25,1247,643.25,1257,647.25,1253,643.25" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="172" x="1253" y="624.2407">Berechtigung prüfen</text><line style="stroke:#000000;stroke-width:1.0;" x1="1246" x2="1288" y1="677.0391" y2="677.0391"/><line style="stroke:#000000;stroke-width:1.0;" x1="1288" x2="1288" y1="677.0391" y2="690.0391"/><line style="stroke:#000000;stroke-width:1.0;" x1="1247" x2="1288" y1="690.0391" y2="690.0391"/><polygon fill="#000000" points="1257,686.0391,1247,690.0391,1257,694.0391,1253,690.0391" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="153" x="1253" y="671.0298">Dateigröße prüfen</text><line style="stroke:#000000;stroke-width:1.0;" x1="1246" x2="1288" y1="723.8281" y2="723.8281"/><line style="stroke:#000000;stroke-width:1.0;" x1="1288" x2="1288" y1="723.8281" y2="736.8281"/><line style="stroke:#000000;stroke-width:1.0;" x1="1247" x2="1288" y1="736.8281" y2="736.8281"/><polygon fill="#000000" points="1257,732.8281,1247,736.8281,1257,740.8281,1253,736.8281" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="185" x="1253" y="717.8188">Freigabelink erzeugen</text><line style="stroke:#000000;stroke-width:1.0;" x1="1246" x2="1288" y1="770.6172" y2="770.6172"/><line style="stroke:#000000;stroke-width:1.0;" x1="1288" x2="1288" y1="770.6172" y2="783.6172"/><line style="stroke:#000000;stroke-width:1.0;" x1="1247" x2="1288" y1="783.6172" y2="783.6172"/><polygon fill="#000000" points="1257,779.6172,1247,783.6172,1257,787.6172,1253,783.6172" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="123" x="1253" y="764.6079">E-Mail ablegen</text><polygon fill="#000000" points="677,813.4063,667,817.4063,677,821.4063,673,817.4063" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="671" x2="1240" y1="817.4063" y2="817.4063"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="103" x="1131" y="811.397">Freigabelink</text><line style="stroke:#000000;stroke-width:1.0;" x1="666" x2="708" y1="870.9844" y2="870.9844"/><line style="stroke:#000000;stroke-width:1.0;" x1="708" x2="708" y1="870.9844" y2="883.9844"/><line style="stroke:#000000;stroke-width:1.0;" x1="667" x2="708" y1="883.9844" y2="883.9844"/><polygon fill="#000000" points="677,879.9844,667,883.9844,677,887.9844,673,883.9844" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="263" x="673" y="845.186">KIM-Attachment-Datenstruktur</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="292" x="673" y="864.9751">im Body der KOM-LE-Mail einfügen</text><line style="stroke:#000000;stroke-width:1.0;" x1="666" x2="708" y1="944.5625" y2="944.5625"/><line style="stroke:#000000;stroke-width:1.0;" x1="708" x2="708" y1="944.5625" y2="957.5625"/><line style="stroke:#000000;stroke-width:1.0;" x1="667" x2="708" y1="957.5625" y2="957.5625"/><polygon fill="#000000" points="677,953.5625,667,957.5625,677,961.5625,673,957.5625" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="189" x="673" y="918.7642">KOM-LE-Mail signieren</text><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="272" x="673" y="938.5532">und asymmetrisch verschlüsseln</text><polygon fill="#000000" points="1488,987.3516,1498,991.3516,1488,995.3516,1492,991.3516" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;" x1="666" x2="1494" y1="991.3516" y2="991.3516"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="115" x="673" y="985.3423">send Message</text><polygon fill="#000000" points="677,1021.1406,667,1025.1406,677,1029.1406,673,1025.1406" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="671" x2="1504" y1="1025.1406" y2="1025.1406"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="51" x="1447" y="1019.1313">status</text><polygon fill="#000000" points="373,1054.9297,363,1058.9297,373,1062.9297,369,1058.9297" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="367" x2="660" y1="1058.9297" y2="1058.9297"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="51" x="603" y="1052.9204">status</text><polygon fill="#000000" points="113.5,1088.7188,103.5,1092.7188,113.5,1096.7188,109.5,1092.7188" style="stroke:#000000;stroke-width:1.0;"/><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="107.5" x2="356" y1="1092.7188" y2="1092.7188"/><text fill="#000000" font-family="sans-serif" font-size="17" lengthAdjust="spacing" textLength="51" x="299" y="1086.7095">status</text><!--MD5=[251590f585df82279eaa9ed6a13b3720]
@startuml
skinparam sequenceMessageAlign direction
skinparam minClassWidth 200
skinparam BoxPadding 20
skinparam sequenceReferenceHeaderBackgroundColor palegreen
scale max 2048 width
hide footbox

skinparam sequence {
ArrowColor black
ArrowFontSize 17
ActorBorderColor black
LifeLineBorderColor black
LifeLineBackgroundColor Gainsboro

ParticipantBorderColor Motivation
ParticipantBackgroundColor Motivation
ParticipantFontSize 20
ParticipantFontColor black
ParticipantBorderColor Black
ParticipantBackgroundColor MOTIVATION
ParticipantPadding 20

ActorBackgroundColor Gainsboro
ActorFontColor black
ActorFontSize 20
ActorFontName Aapex
}
      actor L as "Leistungserbringer"
      box <size:18>Primärsystem\n #WhiteSmoke
            participant P as "PVS/KIS/Mailclient"
      end box
      box <size:18>Clientmodul\n #WhiteSmoke
      participant KM as "KIM-Dienst"
      end box
      box <size:18>Fachdienst\n #WhiteSmoke
      participant AM as "Account-Manager"
      participant K as "KAS"
      participant MS as "Mailserver"
      end box

L->P: Email mit großen\n Anhängen erzeugen
 activate P
 P->KM: E-Mail weiterleiten
 activate KM
 KM->KM: Prüfen der E-Mailgröße
 KM->KM: Prüfen der KIM-Version\n des Empfängers
 opt Mailgröße>=15 MB
 KM->AM: getLimits
 activate AM
 AM- ->KM: Limits
 deactivate AM
 KM->KM: Erzeugung eines symmetrischen\n Schlüssels für die Mail
 KM->KM: Bildung des Hashwertes
 KM->KM: Verschlüsselung der Mail \nmit dem symmetrischen Schlüssel
 KM->K: addAttachment
 activate K
 K->K: Berechtigung prüfen
 K->K: Dateigröße prüfen
 K->K: Freigabelink erzeugen
 K->K: E-Mail ablegen
 K- ->KM: Freigabelink
 deactivate K
 KM->KM: KIM-Attachment-Datenstruktur \nim Body der KOM-LE-Mail einfügen
 end
 KM->KM: KOM-LE-Mail signieren \nund asymmetrisch verschlüsseln
 KM->MS++: send Message
 MS- ->KM- -: status
 KM- ->P:status
 deactivate KM
 P- ->L:status
 deactivate P
@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>