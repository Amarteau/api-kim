<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="130px" preserveAspectRatio="none" style="width:1617px;height:130px;background:#FFFFFF;" version="1.1" viewBox="0 0 1617 130" width="1617px" zoomAndPan="magnify"><defs/><g><g id="rkm"><rect fill="#F1F1F1" height="85.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="188" x="61" y="23.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="61" x2="249" y1="49.7969" y2="49.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="146" x="82" y="41.4951">received KOM-LE Mail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142" x="66" y="67.792">do / check signature</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="66" y="84.0889">do / decrypt mail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="168" x="66" y="100.3857">exit / finished decrypting</text></g><g id="dkm"><rect fill="#F1F1F1" height="85.1875" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="312" x="284" y="23.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="284" x2="596" y1="49.7969" y2="49.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="157" x="361.5" y="41.4951">decrypted KOM-LE Mail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="289" y="67.792">do / extract KIM-Attachment data structure</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="195" x="289" y="84.0889">do / download mail from KAS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="289" y="100.3857">exit / download successful</text></g><g id="kdcm"><rect fill="#F1F1F1" height="117.7813" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="493" x="631.5" y="7"/><line style="stroke:#181818;stroke-width:0.5;" x1="631.5" x2="1124.5" y1="33.2969" y2="33.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="190" x="783" y="24.9951">KAS downloaded Client-Mail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="279" x="636.5" y="51.292">do / check signature of downloaded mail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="203" x="636.5" y="67.5889">do / encrypt downloaded mail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="343" x="636.5" y="83.8857">do / check integrity of encrypted downloaded mail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="473" x="636.5" y="100.1826">do / post process checked mail (i.e. add additional KIM-header fields)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="636.5" y="116.4795">exit / post processing successful</text></g><g id="cm"><rect fill="#F1F1F1" height="68.8906" rx="12.5" ry="12.5" style="stroke:#181818;stroke-width:0.5;" width="396" x="1160" y="31.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="1160" x2="1556" y1="57.7969" y2="57.7969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="1323" y="49.4951">Client-Mail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232" x="1165" y="75.792">do / transfer mail to Client-System</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="376" x="1165" y="92.0889">exit / successful transfer of Client-Mail to Client-System</text></g><ellipse cx="16" cy="66" fill="#222222" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><ellipse cx="1601" cy="66" fill="none" rx="10" ry="10" style="stroke:#222222;stroke-width:1.0;"/><ellipse cx="1601.5" cy="66.5" fill="#222222" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><!--MD5=[9ab0f6696e43fe183fa4c38fae3705ef]
link *start to rkm--><g id="link_*start_rkm"><path d="M26.04,66 C35.91,66 45.78,66 55.64,66 " fill="none" id="*start-to-rkm" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="60.8,66,51.8,62,55.8,66,51.8,70,60.8,66" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[884321141682b6bc39cef8b2c10f0c6a]
link rkm to dkm--><g id="link_rkm_dkm"><path d="M249.07,66 C258.92,66 268.76,66 278.6,66 " fill="none" id="rkm-to-dkm" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="283.75,66,274.75,62,278.75,66,274.75,70,283.75,66" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[61847c832de204a34eeac1af4d2495b4]
link dkm to kdcm--><g id="link_dkm_kdcm"><path d="M596.12,66 C606.12,66 616.13,66 626.13,66 " fill="none" id="dkm-to-kdcm" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="631.36,66,622.36,62,626.36,66,622.36,70,631.36,66" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[38dd7099f5fac5e9c0b4949aec2c9efe]
link kdcm to cm--><g id="link_kdcm_cm"><path d="M1124.56,66 C1134.53,66 1144.49,66 1154.46,66 " fill="none" id="kdcm-to-cm" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1159.67,66,1150.67,62,1154.67,66,1150.67,70,1159.67,66" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[f3536b37f0ed035abf7382952e691a38]
link cm to *end--><g id="link_cm_*end"><path d="M1556.39,66 C1566.18,66 1575.98,66 1585.77,66 " fill="none" id="cm-to-*end" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="1590.89,66,1581.89,62,1585.89,66,1581.89,70,1590.89,66" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[4b9afee85f332f9d4d8d0fe9ea12913c]
@startuml

state "received KOM-LE Mail" as rkm
rkm : do / check signature
rkm: do / decrypt mail
rkm : exit / finished decrypting

state "decrypted KOM-LE Mail" as dkm
dkm: do / extract KIM-Attachment data structure
dkm: do / download mail from KAS
dkm: exit / download successful

state "KAS downloaded Client-Mail" as kdcm
kdcm: do / check signature of downloaded mail
kdcm: do / encrypt downloaded mail
kdcm: do / check integrity of encrypted downloaded mail
kdcm: do / post process checked mail (i.e. add additional KIM-header fields)
kdcm: exit / post processing successful

state "Client-Mail" as cm
cm: do / transfer mail to Client-System
cm: exit / successful transfer of Client-Mail to Client-System

[*] -r-> rkm
rkm -r-> dkm
dkm -r-> kdcm
kdcm -r-> cm
cm -r-> [*]

@enduml

PlantUML version 1.2022.5(Sat Apr 30 10:55:52 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>